import { <%= entity.name %> } from '../entities/<%= entity.name %>.entity';

export class <%= entity.name %>Service {
  private entities: <%= entity.name %>[] = [];

  public getAll(): <%= entity.name %>[] {
    return this.entities;
  }

  public getById(id: number): <%= entity.name %> | undefined {
    return this.entities.find(entity => entity.id === id);
  }

  public create(entity: Omit<<%= entity.name %>, 'id'>): <%= entity.name %> {
    const newEntity: <%= entity.name %> = {
      ...entity,
      id: this.generateId(),
    };
    this.entities.push(newEntity);
    return newEntity;
  }

  public updateById(id: number, updatedFields: Partial<<%= entity.name %>>): <%= entity.name %> | undefined {
    const index = this.entities.findIndex(entity => entity.id === id);
    if (index !== -1) {
      this.entities[index] = { ...this.entities[index], ...updatedFields };
      return this.entities[index];
    }
    return undefined;
  }

  public deleteById(id: number): boolean {
    const index = this.entities.findIndex(entity => entity.id === id);
    if (index !== -1) {
      this.entities.splice(index, 1);
      return true;
    }
    return false;
  }

  private generateId(): number {
    const lastId = this.entities.length > 0 ? this.entities[this.entities.length - 1].id : 0;
    return lastId + 1;
  }
}
