{
"openapi": "3.0.0",
"info": {
"title": "API Gerada",
"version": "1.0.0"
},
"paths": {
<% entities.forEach((cfg, idx) => { %>
"/<%= cfg.name.toLowerCase() %>": {
"get": {
"summary": "Listar <%= cfg.name %>",
"responses": {
"200": {
"description": "OK",
"content": {
"application/json": {
"schema": {
"type": "array",
"items": { "$ref": "#/components/schemas/<%= cfg.name %>" }
}
}
}
}
}
},
"post": {
"summary": "Criar <%= cfg.name %>",
"requestBody": {
"required": true,
"content": {
"application/json": {
"schema": { "$ref": "#/components/schemas/<%= cfg.name %>" }
}
}
},
"responses": {
"201": { "description": "Criado" }
}
}
}<%= idx < entities.length - 1 ? "," : "" %>
<% }) %>
},
"components": {
"schemas": {
<% entities.forEach((cfg, idx) => { %>
"<%= cfg.name %>": {
"type": "object",
"properties": {
<% cfg.properties.forEach((prop, pidx) => { %>
"<%= prop.field %>": { "type": "<%= prop.type %>" }<%= pidx < cfg.properties.length - 1 ? "," : "" %>
<% }) %>
}
}<%= idx < entities.length - 1 ? "," : "" %>
<% }) %>
}
}
}